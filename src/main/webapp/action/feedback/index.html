<html>

<head>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<style>
		.snackbar{
			display: none;
		}
		
	</style>
</head>

<body>
	
	<fieldset class="container">
		<h3 style=”color: red; font-weight: bold;”>Juse Feedback Form</h3>
		<div class="row">
			<label for="rating" class="col-md-12 col-sm-12 col-lg-12">Rating</label>
			<select id="rating">

				<option value="5">5</option>

				<option value="4">4</option>

				<option value="3">3</option>

				<option value="2">2</option>
				<option value="1">1</option>
			</select>
		</div>

		<div class="row">
			<label for="comment" class="col-md-12 col-sm-12 col-lg-12">Comment</label>
			<textarea placeholder="Comment" class="col-md-12 col-sm-12 col-lg-12" name="comment"
				id="comment"></textarea>
		</div>
		<button id="submit" class="secondary">Submit</button>
	</fieldset>
	<div id="snackbar" class="toast snackbar">Thanks for the feedback</div>
	<script>
		let submit = document.getElementById("submit");
		submit.onclick = function () {
			
			comment = document.getElementById('comment').value;
			let rating = parseInt(document.getElementById("rating").value);
			document.getElementById('comment').value = '';
			document.getElementById('rating').value = '5';
			if (rating != 0 || comment != '') {
				var x = document.getElementById("snackbar");
				x.classList.remove("snackbar");
				setTimeout(function () { x.classList.add("snackbar"); }, 3000);
			}
			const body = new FormData
			body.append("score", rating)
			body.append("feedback", comment)

			fetch("https://www.jusenews.com/juse/user/feedback", {
				body,
				headers: {
					Authorization: "Bearer eyJhbGciOiJIUzM4NCJ9.eyJpZCI6MzAsImV4cCI6MTYzMDQxMTc1M30.vRkKQ1FQ1BTbexx9pz--poXrMRPVxWRydYXCV1zF0CaAdkQL66ITQ23sGEQnUebY",
				},
				method: "POST"
			})
		}
	</script>
</body>

</html>